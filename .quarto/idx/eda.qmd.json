{"title":"Exploratory Data Analysis","markdown":{"yaml":{"title":"Exploratory Data Analysis","format":"html"},"headingText":"Demographic Distributions","containsRefs":false,"markdown":"\n\n```{python}\n#import dependencies\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\n#load data\naclr_clean = pd.read_csv('cleaned_aclr_data.csv')\n```\n\nFirst, we did some preliminary graphs to understand what kind of patients were in the dataset. First with gender:\n```{python}\nunique_patients = aclr_clean.groupby('record_id').first()\n# Get the gender distribution\nsex_counts = unique_patients['sex_dashboard'].value_counts()\n#plot a bar graph\nplt.figure(figsize=(10, 6))\nplt.bar(sex_counts.index, sex_counts.values)\nplt.title('Gender distribution is relatively even in our dataset')\nsns.despine()\n```\nAnd then with age:\n```{python}\n#create a histogram for the ikdc scores\nsns.histplot(data=unique_patients, x=\"age\", bins=20, kde=True)\nplt.title(\"Most Patients in Their Teens or Twenties\")\n```\n\n# Progression of Strength\nSince this data is longitudinal, and we are interested in the progression of patient recovery over time, it makes the most since to do EDA organized around time since surgery. We checked out the distribution of strength measurments at different periods during recovery. First, 3-4 months since surgery:\n\n```{python}\n#sorting out just measurements from 3 to 4 months out\nearly = aclr_clean[aclr_clean['tss_dashboard']=='3 to 4 months']\n#filtering just the used columns\nearly = early[['lsi_ext_mvic_60', 'lsi_flex_mvic_60', 'lsi_ext_isok_60', 'lsi_flex_isok_60']]\nearly = early.melt(var_name=\"Measurement\", value_name=\"Value\")\nearly.dropna(inplace=True)\n#making violinplot\nsns.violinplot(data=early, x=\"Value\", y=\"Measurement\")\nplt.title(\"LSI strength measurements- 3 to 4 months post-op\")\nplt.show()\n```\n\nThen 13 to 24 months post surgery:\n```{python}\nlater = aclr_clean[aclr_clean['tss_dashboard']=='13 to 24 months']\n#filtering just the used columns\nlater = later[['lsi_ext_mvic_60', 'lsi_flex_mvic_60', 'lsi_ext_isok_60', 'lsi_flex_isok_60']]\nlater = later.melt(var_name=\"Measurement\", value_name=\"Value\")\nlater.dropna(inplace=True)\n#making violinplot\nsns.violinplot(data=later, x=\"Value\", y=\"Measurement\")\nplt.title(\"LSI strength measurements- 13 to 24 months post-op\")\nplt.show()\n```\n\n# Progression of more holistic variables\nAlong with the strength measurements, patient's psychological readiness should also be considered. We explored how ACL-RSI scores developed during recovery.\n```{python}\norder = ['Preoperative', '3 to 4 months', '5 to 7 months', '8 to 12 months', '13 to 24 months']\naclr_clean['tss_dashboard'] = pd.Categorical(aclr_clean['tss_dashboard'], categories=order, ordered=True)\n\nplt.figure(figsize=(9, 7))\nplt.title('RSI Score Generally Increases With Time Since Surgery')\nsns.barplot(data=aclr_clean, x = 'tss_dashboard', y = 'acl_rsi', color = 'darkgreen')\nsns.despine()\n```\nThe dip after 12 months is notable, but it's likely that there could be a confounding variable here. Patients that don't feel psychologically ready to return to their sport are more likely to go back to the doctor after 12 months. We also examined IKDC scores over time\n\n```{python}\n# looking at ikdc score compared to time since surgery, the score generally increases over time\norder = ['Preoperative', '3 to 4 months', '5 to 7 months', '8 to 12 months', '13 to 24 months']\naclr_clean['tss_dashboard'] = pd.Categorical(aclr_clean['tss_dashboard'], categories=order, ordered=True)\n\nplt.figure(figsize=(9, 7))\nplt.title('IKDC Score Generally Increases With Time Since Surgery')\nsns.barplot(data=aclr_clean, x = 'tss_dashboard', y = 'ikdc', color = 'darkgreen')\nsns.despine()\n```\nSimilar situation as the graph before, patients who are still struggling after 12 months are more likely to return to the doctor. In general, though, most patient visits were less than 10 months after surgery:\n```{python}\nsns.boxplot(data=aclr_clean, x=\"tss\")\nplt.xlim(-5, 24)\nplt.title('Despite outliers, most patients were seen less than 10 months post-op')\n```\n\n# Correlations\nWe wanted to see if the various demographics and strength tests we were interested in correlated with one another, so we made a heatmap.\n\n```{python}\n#creating a heatmap to see how each variable correlates with the others\ncorrelations = aclr_clean.corr(numeric_only= True)\n\nplt.figure(figsize=(10, 8))\nsns.heatmap(correlations, annot=True, cmap='coolwarm')\nplt.title(\"Correlation Matrix\")\nplt.show()\n```\nIKDC and RSI are positively correlated, which makes sense given they are more holistic evaluations. We next used a scatter plot to look into what the relationships between metrics like these and strength test might be\n\n```{python}\nplt.figure(figsize=(10, 6))\nplt.scatter(aclr_clean['acl_rsi'], aclr_clean['lsi_ext_isok_60'], color = 'orange', s = 10, label = 'Extension')\nplt.scatter(aclr_clean['acl_rsi'], aclr_clean['lsi_flex_isok_60'], color = 'green', s = 10, label = 'Flexion')\nsns.despine()\n\nplt.xlabel('rsi score')\nplt.ylabel('lsi strength')\nplt.title('RSI Score and LSI ISOK Strength for Extension and Flexion at 60')\nplt.legend()\nplt.show()\n```\n\nSimilar to what the heatmap suggested, not quite as correlated as one would think. Extension scores seem to have lower range than flexion ones. Let's see how they both progress over time:\n```{python}\n# regression plot to see ISOK trend lines for flexion and extension strength and time since surgery shows greater strength for flexion than extension\nplt.figure(figsize=(10, 6))\nsns.regplot(data=aclr_clean, x ='tss', y ='lsi_ext_isok_60', color = 'orange', label = 'Extension')\nsns.regplot(data=aclr_clean, x ='tss', y ='lsi_flex_isok_60', color = 'green', label = 'Flexion')\nsns.despine()\n\nplt.xlabel('Time Since Surgery')\nplt.ylabel('ISOK LSI Strength')\nplt.title('ISOK LSI Strength for Flexion Appears Greater Than Extension Over Time Since Surgery')\nplt.legend()\n```\n\nThe lines of best fit might look close together, but considering an LSI of over 100 is rare, the difference might be significant.\n\nLastly, given that we were interested in both flexion and extension strength, we plotted them on a scatterplot:\n```{python}\n#relationship between extension and flexion strength (both MVIC and isokinetic at 60°) across patients, colored by sex to highlight potential gender-based patterns.\nsns.scatterplot(data=aclr_clean, x='lsi_ext_mvic_60', y='lsi_flex_mvic_60', hue='sex_dashboard')\nplt.title(\"MVIC 60°: Extension vs Flexion Strength by Sex\")\nplt.xlabel(\"Extension LSI (MVIC 60°)\")\nplt.ylabel(\"Flexion LSI (MVIC 60°)\")\nplt.show()\n\n# Scatterplot: Isokinetic 60° Strength\nsns.scatterplot(data=aclr_clean, x='lsi_ext_isok_60', y='lsi_flex_isok_60', hue='sex_dashboard')\nplt.title(\"Isokinetic 60°: Extension vs Flexion Strength by Sex\")\nplt.xlabel(\"Extension LSI (Isok 60°)\")\nplt.ylabel(\"Flexion LSI (Isok 60°)\")\nplt.show()\n```\n\n","srcMarkdownNoYaml":"\n\n```{python}\n#import dependencies\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\n#load data\naclr_clean = pd.read_csv('cleaned_aclr_data.csv')\n```\n\n# Demographic Distributions\nFirst, we did some preliminary graphs to understand what kind of patients were in the dataset. First with gender:\n```{python}\nunique_patients = aclr_clean.groupby('record_id').first()\n# Get the gender distribution\nsex_counts = unique_patients['sex_dashboard'].value_counts()\n#plot a bar graph\nplt.figure(figsize=(10, 6))\nplt.bar(sex_counts.index, sex_counts.values)\nplt.title('Gender distribution is relatively even in our dataset')\nsns.despine()\n```\nAnd then with age:\n```{python}\n#create a histogram for the ikdc scores\nsns.histplot(data=unique_patients, x=\"age\", bins=20, kde=True)\nplt.title(\"Most Patients in Their Teens or Twenties\")\n```\n\n# Progression of Strength\nSince this data is longitudinal, and we are interested in the progression of patient recovery over time, it makes the most since to do EDA organized around time since surgery. We checked out the distribution of strength measurments at different periods during recovery. First, 3-4 months since surgery:\n\n```{python}\n#sorting out just measurements from 3 to 4 months out\nearly = aclr_clean[aclr_clean['tss_dashboard']=='3 to 4 months']\n#filtering just the used columns\nearly = early[['lsi_ext_mvic_60', 'lsi_flex_mvic_60', 'lsi_ext_isok_60', 'lsi_flex_isok_60']]\nearly = early.melt(var_name=\"Measurement\", value_name=\"Value\")\nearly.dropna(inplace=True)\n#making violinplot\nsns.violinplot(data=early, x=\"Value\", y=\"Measurement\")\nplt.title(\"LSI strength measurements- 3 to 4 months post-op\")\nplt.show()\n```\n\nThen 13 to 24 months post surgery:\n```{python}\nlater = aclr_clean[aclr_clean['tss_dashboard']=='13 to 24 months']\n#filtering just the used columns\nlater = later[['lsi_ext_mvic_60', 'lsi_flex_mvic_60', 'lsi_ext_isok_60', 'lsi_flex_isok_60']]\nlater = later.melt(var_name=\"Measurement\", value_name=\"Value\")\nlater.dropna(inplace=True)\n#making violinplot\nsns.violinplot(data=later, x=\"Value\", y=\"Measurement\")\nplt.title(\"LSI strength measurements- 13 to 24 months post-op\")\nplt.show()\n```\n\n# Progression of more holistic variables\nAlong with the strength measurements, patient's psychological readiness should also be considered. We explored how ACL-RSI scores developed during recovery.\n```{python}\norder = ['Preoperative', '3 to 4 months', '5 to 7 months', '8 to 12 months', '13 to 24 months']\naclr_clean['tss_dashboard'] = pd.Categorical(aclr_clean['tss_dashboard'], categories=order, ordered=True)\n\nplt.figure(figsize=(9, 7))\nplt.title('RSI Score Generally Increases With Time Since Surgery')\nsns.barplot(data=aclr_clean, x = 'tss_dashboard', y = 'acl_rsi', color = 'darkgreen')\nsns.despine()\n```\nThe dip after 12 months is notable, but it's likely that there could be a confounding variable here. Patients that don't feel psychologically ready to return to their sport are more likely to go back to the doctor after 12 months. We also examined IKDC scores over time\n\n```{python}\n# looking at ikdc score compared to time since surgery, the score generally increases over time\norder = ['Preoperative', '3 to 4 months', '5 to 7 months', '8 to 12 months', '13 to 24 months']\naclr_clean['tss_dashboard'] = pd.Categorical(aclr_clean['tss_dashboard'], categories=order, ordered=True)\n\nplt.figure(figsize=(9, 7))\nplt.title('IKDC Score Generally Increases With Time Since Surgery')\nsns.barplot(data=aclr_clean, x = 'tss_dashboard', y = 'ikdc', color = 'darkgreen')\nsns.despine()\n```\nSimilar situation as the graph before, patients who are still struggling after 12 months are more likely to return to the doctor. In general, though, most patient visits were less than 10 months after surgery:\n```{python}\nsns.boxplot(data=aclr_clean, x=\"tss\")\nplt.xlim(-5, 24)\nplt.title('Despite outliers, most patients were seen less than 10 months post-op')\n```\n\n# Correlations\nWe wanted to see if the various demographics and strength tests we were interested in correlated with one another, so we made a heatmap.\n\n```{python}\n#creating a heatmap to see how each variable correlates with the others\ncorrelations = aclr_clean.corr(numeric_only= True)\n\nplt.figure(figsize=(10, 8))\nsns.heatmap(correlations, annot=True, cmap='coolwarm')\nplt.title(\"Correlation Matrix\")\nplt.show()\n```\nIKDC and RSI are positively correlated, which makes sense given they are more holistic evaluations. We next used a scatter plot to look into what the relationships between metrics like these and strength test might be\n\n```{python}\nplt.figure(figsize=(10, 6))\nplt.scatter(aclr_clean['acl_rsi'], aclr_clean['lsi_ext_isok_60'], color = 'orange', s = 10, label = 'Extension')\nplt.scatter(aclr_clean['acl_rsi'], aclr_clean['lsi_flex_isok_60'], color = 'green', s = 10, label = 'Flexion')\nsns.despine()\n\nplt.xlabel('rsi score')\nplt.ylabel('lsi strength')\nplt.title('RSI Score and LSI ISOK Strength for Extension and Flexion at 60')\nplt.legend()\nplt.show()\n```\n\nSimilar to what the heatmap suggested, not quite as correlated as one would think. Extension scores seem to have lower range than flexion ones. Let's see how they both progress over time:\n```{python}\n# regression plot to see ISOK trend lines for flexion and extension strength and time since surgery shows greater strength for flexion than extension\nplt.figure(figsize=(10, 6))\nsns.regplot(data=aclr_clean, x ='tss', y ='lsi_ext_isok_60', color = 'orange', label = 'Extension')\nsns.regplot(data=aclr_clean, x ='tss', y ='lsi_flex_isok_60', color = 'green', label = 'Flexion')\nsns.despine()\n\nplt.xlabel('Time Since Surgery')\nplt.ylabel('ISOK LSI Strength')\nplt.title('ISOK LSI Strength for Flexion Appears Greater Than Extension Over Time Since Surgery')\nplt.legend()\n```\n\nThe lines of best fit might look close together, but considering an LSI of over 100 is rare, the difference might be significant.\n\nLastly, given that we were interested in both flexion and extension strength, we plotted them on a scatterplot:\n```{python}\n#relationship between extension and flexion strength (both MVIC and isokinetic at 60°) across patients, colored by sex to highlight potential gender-based patterns.\nsns.scatterplot(data=aclr_clean, x='lsi_ext_mvic_60', y='lsi_flex_mvic_60', hue='sex_dashboard')\nplt.title(\"MVIC 60°: Extension vs Flexion Strength by Sex\")\nplt.xlabel(\"Extension LSI (MVIC 60°)\")\nplt.ylabel(\"Flexion LSI (MVIC 60°)\")\nplt.show()\n\n# Scatterplot: Isokinetic 60° Strength\nsns.scatterplot(data=aclr_clean, x='lsi_ext_isok_60', y='lsi_flex_isok_60', hue='sex_dashboard')\nplt.title(\"Isokinetic 60°: Extension vs Flexion Strength by Sex\")\nplt.xlabel(\"Extension LSI (Isok 60°)\")\nplt.ylabel(\"Flexion LSI (Isok 60°)\")\nplt.show()\n```\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"eda.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","theme":"light","backgroundcolor":"#ffffff","title":"Exploratory Data Analysis"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}